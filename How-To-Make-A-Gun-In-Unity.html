  
<link rel="stylesheet" type="text/css" href="site.css">
<title>How to Make a Gun in Unity - Dreek16designer.com</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<nav style="font-size: 20px;" class="settings">
<img src="me1.png" onclick="window.location.href = '/';"> |
<a href="videos"> Videos</a> |
<a href="addons"> Addons</a> |
<a href="games"> Games</a> |
<a href="me/about/about"> About</a>
</nav>
<h1>How to Make a Gun in Unity 2019.3.9f1</h1>
<h2>Let's Get Started!</h2>
<p>1. Start by making a gun 3d model, then import it into Unity. Import the standard assets and drag and drop the player controller into the scene, or make your own player FPS controller. If you are making a shooter game, put the gun model as a child of the player camera.</p>
<p>2. Make a bullet prefab: for the sake of this tutorial, make a sphere, resize it appropriately and reset the Transform component. Drag and drop the object from your hierarchy into the project window to make a prefab. You can now delete the bullet from the scene. Make sure to save your changes (CTRL + S).</p>
<p>3. Add a collider to the bullet prefab and add a rigidbody (gravity is optional, this will change depending on the mass value). Add a new script called Bullet: <code>
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Bullet : MonoBehaviour
{
    public float Range = 2f;
    public float speed = 20f;
    public Rigidbody rb;
    public Camera fpsCam;

    void Start()
    {
        rb.velocity = transform.up * speed;
        Destroy(gameObject, Range);
    }
    void OnCollisionEnter (Collision collision)
    {

    }
}
</code>
</p>
<p>4. Let's start making our gun. Create a 3d model or download one and put it as a child of the player fps camera.</p>
<p>5. Add a new script to our gun object. You will need a shoot sound effect and a muzzle flash particle system: </p>
<code>
using System.Collections;
using System.Collections.Generic;
using UnityEngine;

public class Gun : MonoBehaviour
{
    public Animator animator;
    public float damage = 10f;
    public float range = 100f;
    public bool isFullAuto;
    public float FireRate;
    public AudioSource ReloadAudio;
    public Transform BulletEjectLocation;
    public GameObject ShellPrefab;

    public int maxAmmo = 10;
    private int currentAmmo;
    public float ReloadTime = 2f;
    private bool isReloading = false;

    public Camera fpsCam;
    public GameObject bulletPrefab;
    public Transform firePoint;
    public AudioSource ShootSFX;
    public ParticleSystem muzzleFlash;
    private float NextTimeToFire = 0f;

    void Start()
    {
        currentAmmo = maxAmmo;
    }
    void OnEnable()
    {
        isReloading = false;
    }
    void Update()
    {
        if (isFullAuto == true)
        {
            if (Input.GetButton("Fire1") && Time.time >= NextTimeToFire)
            {
                NextTimeToFire = Time.time + 1f / FireRate;
                Shoot();
            }
        }
        if (isReloading)
            return;
        if (currentAmmo <= 0)
        {
            StartCoroutine(Reload());
            return;
        }
        if (Input.GetButtonDown("Fire1"))
        {
            Shoot();
        }
    }
    void Shoot ()
    {
        currentAmmo--;

        muzzleFlash.Play();
        ShootSFX.Play();
        Instantiate(bulletPrefab, firePoint.position, firePoint.rotation);
        Instantiate(ShellPrefab, BulletEjectLocation.position, BulletEjectLocation.rotation);
    }
    IEnumerator Reload ()
    {
        ReloadAudio.Play();

        isReloading = true;

        yield return new WaitForSeconds(ReloadTime);

        currentAmmo = maxAmmo;
        isReloading = false;
    }
}

</code>
<p>As you can see, we have a firepoint transform. this will be an empty GameObject in the gun's muzzle (where we want to shoot out).</p>
  
